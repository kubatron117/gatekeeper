<% content_for :title, "Showing task" %>

<div class="md:w-2/3 w-full">
  <%= render "shared/flash" %>

  <h1 class="font-bold text-4xl">Showing task</h1>

  <%= render @task %>

  <h2 class="mt-10 font-bold text-2xl mb-2">Attachments:</h2>
  <% @task.task_attachments.each do |attachment| %>
    <div class="attachment">
      <div class="flex flex-row items-center gap-1 mb-2">
        <strong>Note:</strong>
        <%= attachment.note %>
      </div>
      <%= link_to "Link", url_for(attachment.file), target: "_blank" %>
      <% if attachment.file.image? %>
        <%= image_tag attachment.file.variant(resize_to_limit: [200, 200]) %>
      <% end %>
    </div>
    <hr class="my-4">
  <% end %>

  <%= link_to "Edit this task", edit_task_path(@task), class: "w-full sm:w-auto text-center rounded-md px-3.5 py-2.5 bg-gray-100 hover:bg-gray-50 inline-block font-medium" %>
  <%= link_to "Back to tasks", tasks_path, class: "w-full sm:w-auto text-center mt-2 sm:mt-0 sm:ml-2 rounded-md px-3.5 py-2.5 bg-gray-100 hover:bg-gray-50 inline-block font-medium" %>
  <%= button_to "Destroy this task", @task, method: :delete, form_class: "sm:inline-block mt-2 sm:mt-0 sm:ml-2", class: "w-full rounded-md px-3.5 py-2.5 text-white bg-red-600 hover:bg-red-500 font-medium cursor-pointer", data: { turbo_confirm: "Are you sure?" } %>
</div>
