<% content_for :title, "Projects" %>

<div class="w-full">
  <div class="flex justify-between items-center mb-6">
    <h1 class="font-bold text-4xl">Projects</h1>
    <%= link_to "New project", new_project_path,
                class: "rounded-md px-3.5 py-2.5 bg-blue-600 hover:bg-blue-500 text-white font-medium" %>
  </div>

  <%= render 'shared/flash' %>

  <%= render 'shared/table',
             headers: [
               { attr: :name, label: "Name" },
               { attr: :created_at, label: "Created at" },
               { attr: nil, label: "Tasks" },
               { attr: nil, label: "Actions" }
             ],
             pagination: @projects,
             search: { form: @q, url: projects_path, fields: [:name] } do %>
    <% if @projects.any? %>
      <%= render partial: "project_row", collection: @projects, as: :project %>
    <% else %>
      <tr>
        <td colspan="4" class="text-center py-10 text-gray-500">
          No projects found.
        </td>
      </tr>
    <% end %>
  <% end %>
</div>
